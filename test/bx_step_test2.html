<html>
	<head>
		<meta charset="utf-8" />
		<script type="text/javascript" src="../lib/qunit-1.19.0.js"></script>
		<script type="text/javascript" src="../bx_step.js"></script>
		<link rel="stylesheet" href="../lib/qunit-1.19.0.css" />
		<script type="text/javascript">

			QUnit.test("测试分步组件1", function (assert)
			{
				var arr = new Array();
				arr.push(document.getElementById("div1"));
				arr.push(document.getElementById("div2"));
				arr.push(document.getElementById("div3"));

				var b = false;
				var bxStep = new BxStep(arr, "java");
				bxStep.addEvent("showIndexChanged", function () { alert("索引改变"); b = true;});
				bxStep.showIndex(0);
				assert.equal(b, true, "事件成功执行");
				b = false;
				
				bxStep.showIndex(0);


				assert.notEqual(b, true, "前后索引无改变时不执行回调");
				
			});
				
		</script>
	</head>

	<body>
		<h1 id="qunit-header">QUnit测试</h1>
    	<h2 id="qunit-banner"></h2>
    	<div id="qunit-testrunner-toolbar"></div>
    	<h2 id="qunit-userAgent"></h2>
    	<ol id="qunit-tests"></ol>
    	<div id="qunit-fixture"></div>

		<div id="div1" style="display:none; background-color: yellow; min-height: 200px; min-width: 200px; margin-bottom: 20px;">

		<div>    	

		<div id="div2" style="display:none; background-color: green; min-height: 200px; min-width: 200px; margin-bottom: 20px;">

		<div> 

		<div id="div3" style="display:none; background-color: red; min-height: 200px; min-width: 200px; margin-bottom: 20px;">

		<div> 

		<div id="div4" style="display:none; background-color: #CA8EFF; min-height: 200px; min-width: 200px; margin-bottom: 20px;">

		</div>

		<div id="div5" style="display:none; background-color: black; min-height: 200px; min-width: 200px; margin-bottom: 20px;">

		</div>

		<div id="div6" style="display:none; background-color: black; min-height: 200px; min-width: 200px; margin-bottom: 20px;">

		</div>

		<div id="div7" style="display:none; background-color: black; min-height: 200px; min-width: 200px; margin-bottom: 20px;">

		</div>

	</body>
</html>