<html>
	<head>
		<meta charset="utf-8" />
		<script type="text/javascript" src="../lib/qunit-1.19.0.js"></script>
		<script type="text/javascript" src="../bx_select.js"></script>
		<meta name="viewport" id="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0,user-scalable=0">
		<link rel="stylesheet" href="../css/bx_select.css" />
		<link rel="stylesheet" href="../lib/qunit-1.19.0.css" />

		<script type="text/javascript">
			(function (doc, win) 
  			{
			      var docEl = doc.documentElement,
			      resizeEvt = 'orientationchange' in window ? 'orientationchange' : 'resize',
			      recalc = function () 
			      {
			        var clientWidth = docEl.clientWidth;
			        if (!clientWidth) 
			        {

			          return;
			        }

			        docEl.style.fontSize = 20 * (clientWidth / 320) + 'px';
			      };

			      if (!doc.addEventListener) 
			      {
			          return;
			      }
			        
			      win.addEventListener(resizeEvt, recalc, false);
			      doc.addEventListener('DOMContentLoaded', recalc, false);
		  	})(document, window);

			QUnit.asyncTest("测试select组件2", function (assert)
			{
				var bxSelect = new BxSelect({
					element: document.getElementById("inputx"),
					ajax: {
						url: "http://m.weather.com.cn/atad/101190101.html",
						type: "get",
						dataType: "json",
						beforeSend: function ()
						{
							alert("开始了");
						},
						results: function (json)
						{
							return [
								 { text: "java", value: "1" },
								 { text: "c#", value: "2" },
								 { text: "ruby", value: "3" }
								]; 
						},
						error: function ()
						{
							alert("请求失败");
						},
						fillClose: function ()
						{
							alert("结束了");
						}
					}
					
				});
				
				

				

			});
				
		</script>
	</head>

	<body>
		<h1 id="qunit-header">QUnit测试</h1>
    	<h2 id="qunit-banner"></h2>
    	<div id="qunit-testrunner-toolbar"></div>
    	<h2 id="qunit-userAgent"></h2>
    	<ol id="qunit-tests"></ol>
    	<div id="qunit-fixture"></div>

		<input type="text" id="inputx" />

	</body>
</html>