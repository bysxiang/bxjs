<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		
		<link rel="stylesheet" href="css/multi_select.css" />
		<script type="text/javascript" src="multi_select.js"></script>	
		
		
	</head>
	<body>
		<input type="text" id = "txt_search" />
		<input type="button" id="btn" value="搜索" />
		
		<script type="text/javascript">
			var txtSearch = document.getElementById("txt_search");
			
			var select = new Ybs.Ui.MultiSelect({
				element: txtSearch,
				charLength: 2,
				delay: 300,
				selectedItems: [
					{ value: 33, text: 'zhihu' },
					{ value: 44, text: 'mobil' }
				],
				ajax: {
					url: 'http://192.168.1.89/vouchers/test',
					data: function (term)
					{
						return { str: term };
					},
					results: function (result)
					{
						return result;
					},
					error: function (xhr)
					{
						console.log("错误信息：" + xhr.responseText);
					}
				}
			});
			
			var btn = document.getElementById("btn");
			btn.addEventListener('click', function (event)
			{
				console.log( select.selectedValues() );
			});
			
		</script>	
	
	</body>
</html>
